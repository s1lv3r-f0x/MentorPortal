{"ast":null,"code":"import _objectSpread from\"/Users/darthvader/Project/MentorPortal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReviewForm=_ref=>{let{users,onSubmit}=_ref;const[formData,setFormData]=useState({revieweeId:0,content:''});const[isSubmitting,setIsSubmitting]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setError('');if(formData.revieweeId===0){setError('Please select an employee');return;}setIsSubmitting(true);try{await onSubmit(formData);setFormData({revieweeId:0,content:''});}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to create review');}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{padding:'20px',border:'1px solid #ddd',borderRadius:'8px'},children:[error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginBottom:'10px'},children:error}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'15px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Select Employee: *\",/*#__PURE__*/_jsxs(\"select\",{value:formData.revieweeId,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{revieweeId:Number(e.target.value)})),required:true,style:{width:'100%',padding:'8px',marginTop:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"-- Select an employee --\"}),users.map(user=>/*#__PURE__*/_jsxs(\"option\",{value:user.id,children:[user.fullName,\" (\",user.email,\")\"]},user.id))]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'15px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Review Content: *\",/*#__PURE__*/_jsx(\"textarea\",{value:formData.content,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{content:e.target.value})),required:true,rows:6,style:{width:'100%',padding:'8px',marginTop:'5px'},placeholder:\"Write your review here...\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,style:{padding:'10px 20px'},children:isSubmitting?'Submitting...':'Submit Review'})]});};export default ReviewForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ReviewForm","_ref","users","onSubmit","formData","setFormData","revieweeId","content","isSubmitting","setIsSubmitting","error","setError","handleSubmit","e","preventDefault","err","_err$response","_err$response$data","response","data","message","style","padding","border","borderRadius","children","color","marginBottom","value","onChange","_objectSpread","Number","target","required","width","marginTop","map","user","id","fullName","email","rows","placeholder","type","disabled"],"sources":["/Users/darthvader/Project/MentorPortal/frontend/src/components/ReviewForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { CreateReviewDto, User } from '../types';\n\ninterface ReviewFormProps {\n  users: User[];\n  onSubmit: (data: CreateReviewDto) => Promise<void>;\n}\n\nconst ReviewForm: React.FC<ReviewFormProps> = ({ users, onSubmit }) => {\n  const [formData, setFormData] = useState<CreateReviewDto>({\n    revieweeId: 0,\n    content: '',\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string>('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    if (formData.revieweeId === 0) {\n      setError('Please select an employee');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      await onSubmit(formData);\n      setFormData({ revieweeId: 0, content: '' });\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Failed to create review');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} style={{ padding: '20px', border: '1px solid #ddd', borderRadius: '8px' }}>\n      {error && <div style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\n      <div style={{ marginBottom: '15px' }}>\n        <label>\n          Select Employee: *\n          <select\n            value={formData.revieweeId}\n            onChange={(e) => setFormData({ ...formData, revieweeId: Number(e.target.value) })}\n            required\n            style={{ width: '100%', padding: '8px', marginTop: '5px' }}\n          >\n            <option value={0}>-- Select an employee --</option>\n            {users.map((user) => (\n              <option key={user.id} value={user.id}>\n                {user.fullName} ({user.email})\n              </option>\n            ))}\n          </select>\n        </label>\n      </div>\n      <div style={{ marginBottom: '15px' }}>\n        <label>\n          Review Content: *\n          <textarea\n            value={formData.content}\n            onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n            required\n            rows={6}\n            style={{ width: '100%', padding: '8px', marginTop: '5px' }}\n            placeholder=\"Write your review here...\"\n          />\n        </label>\n      </div>\n      <button type=\"submit\" disabled={isSubmitting} style={{ padding: '10px 20px' }}>\n        {isSubmitting ? 'Submitting...' : 'Submit Review'}\n      </button>\n    </form>\n  );\n};\n\nexport default ReviewForm;\n\n"],"mappings":"oIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAQxC,KAAM,CAAAC,UAAqC,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAChE,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAkB,CACxDW,UAAU,CAAE,CAAC,CACbC,OAAO,CAAE,EACX,CAAC,CAAC,CACF,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAS,EAAE,CAAC,CAE9C,KAAM,CAAAiB,YAAY,CAAG,KAAO,CAAAC,CAAkB,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBH,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAIP,QAAQ,CAACE,UAAU,GAAK,CAAC,CAAE,CAC7BK,QAAQ,CAAC,2BAA2B,CAAC,CACrC,OACF,CAEAF,eAAe,CAAC,IAAI,CAAC,CAErB,GAAI,CACF,KAAM,CAAAN,QAAQ,CAACC,QAAQ,CAAC,CACxBC,WAAW,CAAC,CAAEC,UAAU,CAAE,CAAC,CAAEC,OAAO,CAAE,EAAG,CAAC,CAAC,CAC7C,CAAE,MAAOQ,GAAQ,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACjBN,QAAQ,CAAC,EAAAK,aAAA,CAAAD,GAAG,CAACG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcG,IAAI,UAAAF,kBAAA,iBAAlBA,kBAAA,CAAoBG,OAAO,GAAI,yBAAyB,CAAC,CACpE,CAAC,OAAS,CACRX,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAED,mBACEV,KAAA,SAAMI,QAAQ,CAAES,YAAa,CAACS,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,MAAM,CAAE,gBAAgB,CAAEC,YAAY,CAAE,KAAM,CAAE,CAAAC,QAAA,EACrGf,KAAK,eAAIb,IAAA,QAAKwB,KAAK,CAAE,CAAEK,KAAK,CAAE,KAAK,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAEf,KAAK,CAAM,CAAC,cAC3Eb,IAAA,QAAKwB,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,cACnC1B,KAAA,UAAA0B,QAAA,EAAO,oBAEL,cAAA1B,KAAA,WACE6B,KAAK,CAAExB,QAAQ,CAACE,UAAW,CAC3BuB,QAAQ,CAAGhB,CAAC,EAAKR,WAAW,CAAAyB,aAAA,CAAAA,aAAA,IAAM1B,QAAQ,MAAEE,UAAU,CAAEyB,MAAM,CAAClB,CAAC,CAACmB,MAAM,CAACJ,KAAK,CAAC,EAAE,CAAE,CAClFK,QAAQ,MACRZ,KAAK,CAAE,CAAEa,KAAK,CAAE,MAAM,CAAEZ,OAAO,CAAE,KAAK,CAAEa,SAAS,CAAE,KAAM,CAAE,CAAAV,QAAA,eAE3D5B,IAAA,WAAQ+B,KAAK,CAAE,CAAE,CAAAH,QAAA,CAAC,0BAAwB,CAAQ,CAAC,CAClDvB,KAAK,CAACkC,GAAG,CAAEC,IAAI,eACdtC,KAAA,WAAsB6B,KAAK,CAAES,IAAI,CAACC,EAAG,CAAAb,QAAA,EAClCY,IAAI,CAACE,QAAQ,CAAC,IAAE,CAACF,IAAI,CAACG,KAAK,CAAC,GAC/B,GAFaH,IAAI,CAACC,EAEV,CACT,CAAC,EACI,CAAC,EACJ,CAAC,CACL,CAAC,cACNzC,IAAA,QAAKwB,KAAK,CAAE,CAAEM,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,cACnC1B,KAAA,UAAA0B,QAAA,EAAO,mBAEL,cAAA5B,IAAA,aACE+B,KAAK,CAAExB,QAAQ,CAACG,OAAQ,CACxBsB,QAAQ,CAAGhB,CAAC,EAAKR,WAAW,CAAAyB,aAAA,CAAAA,aAAA,IAAM1B,QAAQ,MAAEG,OAAO,CAAEM,CAAC,CAACmB,MAAM,CAACJ,KAAK,EAAE,CAAE,CACvEK,QAAQ,MACRQ,IAAI,CAAE,CAAE,CACRpB,KAAK,CAAE,CAAEa,KAAK,CAAE,MAAM,CAAEZ,OAAO,CAAE,KAAK,CAAEa,SAAS,CAAE,KAAM,CAAE,CAC3DO,WAAW,CAAC,2BAA2B,CACxC,CAAC,EACG,CAAC,CACL,CAAC,cACN7C,IAAA,WAAQ8C,IAAI,CAAC,QAAQ,CAACC,QAAQ,CAAEpC,YAAa,CAACa,KAAK,CAAE,CAAEC,OAAO,CAAE,WAAY,CAAE,CAAAG,QAAA,CAC3EjB,YAAY,CAAG,eAAe,CAAG,eAAe,CAC3C,CAAC,EACL,CAAC,CAEX,CAAC,CAED,cAAe,CAAAR,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}