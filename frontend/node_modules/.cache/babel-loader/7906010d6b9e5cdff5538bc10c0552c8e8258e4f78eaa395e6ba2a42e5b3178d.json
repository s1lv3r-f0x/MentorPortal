{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{reviewsService}from'../services/reviewsService';import ReviewList from'../components/ReviewList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MentorReviewsPage=()=>{const[reviews,setReviews]=useState([]);const[isLoading,setIsLoading]=useState(true);const[selectedEmployeeId,setSelectedEmployeeId]=useState(null);const{user,logout}=useAuth();const navigate=useNavigate();useEffect(()=>{loadReviews();},[]);const loadReviews=async()=>{try{const data=await reviewsService.getMentorReviews();setReviews(data);}catch(error){console.error('Failed to load reviews:',error);}finally{setIsLoading(false);}};const filteredReviews=selectedEmployeeId?reviews.filter(r=>r.revieweeId===selectedEmployeeId):reviews;const uniqueEmployees=Array.from(new Set(reviews.map(r=>({id:r.revieweeId,name:r.revieweeName}))));if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',padding:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Reviews\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{style:{marginRight:'15px'},children:[\"Hello, \",user===null||user===void 0?void 0:user.fullName]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/mentor/dashboard'),style:{marginRight:'10px'},children:\"Back to Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Filter by employee:\",/*#__PURE__*/_jsxs(\"select\",{value:selectedEmployeeId||'',onChange:e=>setSelectedEmployeeId(e.target.value?Number(e.target.value):null),style:{marginLeft:'10px',padding:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All employees\"}),uniqueEmployees.map(emp=>/*#__PURE__*/_jsx(\"option\",{value:emp.id,children:emp.name},emp.id))]})]})}),filteredReviews.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'40px',textAlign:'center',color:'#666'},children:\"No reviews found\"}):/*#__PURE__*/_jsx(ReviewList,{reviews:filteredReviews})]});};export default MentorReviewsPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","reviewsService","ReviewList","jsx","_jsx","jsxs","_jsxs","MentorReviewsPage","reviews","setReviews","isLoading","setIsLoading","selectedEmployeeId","setSelectedEmployeeId","user","logout","navigate","loadReviews","data","getMentorReviews","error","console","filteredReviews","filter","r","revieweeId","uniqueEmployees","Array","from","Set","map","id","name","revieweeName","children","style","maxWidth","margin","padding","display","justifyContent","alignItems","marginBottom","marginRight","fullName","onClick","value","onChange","e","target","Number","marginLeft","emp","length","textAlign","color"],"sources":["/Users/darthvader/Project/MentorPortal/frontend/src/pages/MentorReviewsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { reviewsService } from '../services/reviewsService';\nimport { Review } from '../types';\nimport ReviewList from '../components/ReviewList';\n\nconst MentorReviewsPage: React.FC = () => {\n  const [reviews, setReviews] = useState<Review[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedEmployeeId, setSelectedEmployeeId] = useState<number | null>(null);\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    loadReviews();\n  }, []);\n\n  const loadReviews = async () => {\n    try {\n      const data = await reviewsService.getMentorReviews();\n      setReviews(data);\n    } catch (error) {\n      console.error('Failed to load reviews:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const filteredReviews = selectedEmployeeId\n    ? reviews.filter(r => r.revieweeId === selectedEmployeeId)\n    : reviews;\n\n  const uniqueEmployees = Array.from(\n    new Set(reviews.map(r => ({ id: r.revieweeId, name: r.revieweeName })))\n  );\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div style={{ maxWidth: '1000px', margin: '0 auto', padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h1>Reviews</h1>\n        <div>\n          <span style={{ marginRight: '15px' }}>Hello, {user?.fullName}</span>\n          <button onClick={() => navigate('/mentor/dashboard')} style={{ marginRight: '10px' }}>\n            Back to Dashboard\n          </button>\n          <button onClick={logout}>Logout</button>\n        </div>\n      </div>\n\n      <div style={{ marginBottom: '20px' }}>\n        <label>\n          Filter by employee:\n          <select\n            value={selectedEmployeeId || ''}\n            onChange={(e) => setSelectedEmployeeId(e.target.value ? Number(e.target.value) : null)}\n            style={{ marginLeft: '10px', padding: '5px' }}\n          >\n            <option value=\"\">All employees</option>\n            {uniqueEmployees.map(emp => (\n              <option key={emp.id} value={emp.id}>{emp.name}</option>\n            ))}\n          </select>\n        </label>\n      </div>\n\n      {filteredReviews.length === 0 ? (\n        <div style={{ padding: '40px', textAlign: 'center', color: '#666' }}>\n          No reviews found\n        </div>\n      ) : (\n        <ReviewList reviews={filteredReviews} />\n      )}\n    </div>\n  );\n};\n\nexport default MentorReviewsPage;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}